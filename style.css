/* Apply only when screen width is less than 768px */
@media (orientation: portrait) {
    /* === Prompt-All-In-One fixes === */

    /* Prevent Physton Prompt-All-In-One toolbar from overlapping the bottom sticky bar */
    .physton-prompt, 
    #physton-prompt-container,
    #physton-input-float,
    .physton-float-toolbar {
        margin-bottom: 60px !important;  /* adjust depending on your sticky button height */
    }
}
@media (max-width: 703px) {
    :root {
        --slider-thumb-size: 22px;
        --checkbox-size: 20px;
        --input-padding-x: 12px;
        --input-padding-y: 6px;
        --input-font-size: 1.1em;
    }

    /* === Global mobile adjustments === */
    .gradio-button.tool {
        min-width: 2.5em !important;
        height: 2.5em !important;
        font-size: 18px;
    }

    .block.padded:not(.gradio-accordion) {
        padding: 8px !important;
    }

    .gradio-container {
        padding: 8px !important;
    }

    /* === Tabs fixes === */

    .tabitem {
        padding: 8px !important;
    }
    
    .tab-nav {
        display: flex !important;
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
    }

    /* Prevent tab text from wrapping */
    .tab-nav button,
    .tab-nav .tabitem,
    .tab-nav .tabitem-button,
    .tab-nav * {
        white-space: nowrap !important;
    }

    /* Optional: keep tabs compact */
    .tab-nav button {
        flex-shrink: 0;       /* prevents tabs from compressing too much */
        padding: 8px 14px;    /* smaller padding for compact design */
    }

    /* === Input boxes fixes === */

    /* Larger number input box (Gradio int/float) */
    input.gradio-textbox,
    input[type="number"],
    input[type="text"],
    ul.options li.item, 
    option {
        font-size: var(--input-font-size) !important;
        padding: var(--input-padding-y) var(--input-padding-x) !important;
        height: 2.6em !important;
    }
    
    /* Bigger slider thumb */
    input[type="range"]::-webkit-slider-thumb {
        width: var(--slider-thumb-size) !important;
        height: var(--slider-thumb-size) !important;
        border-radius: 50% !important;
    }

    input[type="range"]::-moz-range-thumb {
        width: var(--slider-thumb-size) !important;
        height: var(--slider-thumb-size) !important;
        border-radius: 50% !important;
    }

    input[type="checkbox"] {
        width: var(--checkbox-size) !important;
        height: var(--checkbox-size) !important;
    }

    input[type="text"] {
        font-size: var(--input-font-size) !important;
        padding: var(--input-padding-y) var(--input-padding-x) !important;
    }
    

    /* === Model tabs fixes === */

    #quicksettings,
    .form {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        width: 100%;
    }

    


    /* Move the tab-nav to the top as a horizontal strip */
    #settings .tab-nav {
        order: -1;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 6px;
    }

    #txt2img_tools,
    #img2img_tools,
    #extras_tools {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        flex-wrap: wrap;              /* optional: wraps buttons nicely on small screens */
        gap: 6px;                     /* optional: equal spacing between buttons */
        width: 100%;
    }
    #txt2img_tools button,
    #img2img_tools button,
    #extras_tools button {
        min-width: 2.8em;
        height: 2.8em;
        border-radius: 10px;
        font-size: 1.1em;
    }

    /* === Sticky bottom action buttons === */

    /* Base styling for all action buttons (Generate, Skip, Interrupt) */
    #txt2img_generate,
    #txt2img_interrupt,
    #txt2img_interrupting,
    #txt2img_skip,
    #img2img_generate,
    #img2img_interrupt,
    #img2img_interrupting,
    #img2img_skip,
    #extras_generate,
    #extras_interrupt,
    #extras_interrupting,
    #extras_skip {
        position: fixed !important;
        left: 50%;
        transform: translateX(-50%);
        bottom: 12px;
        width: 90% !important;
        max-width: 400px;
        border-radius: 12px;
        height: 48px !important;
        margin: 0 !important;
        z-index: 1000;
        box-shadow: 0 4px 10px rgba(0,0,0,0.25);
        line-height: 24px !important;
        padding: 0 !important;
    }

    /* Neutralize parent generate_box divs to prevent layout interference */
    #txt2img_generate_box,
    #img2img_generate_box,
    #extras_generate_box {
        all: initial !important;
        display: contents !important;
    }

    /* Force consistent text height and centering in generate buttons */
    #txt2img_generate > span,
    #img2img_generate > span,
    #extras_generate > span {
        line-height: 1 !important;
        padding: 0 !important;
        margin: 0 !important;
        height: 24px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    /* Prevent internal elements from causing extra height */
    #txt2img_generate *,
    #img2img_generate *,
    #extras_generate * {
        flex: none !important;
    }

    /* Horizontal Split: Skip and Interrupt Buttons --- */

    /* Base styling for Skip and Interrupt buttons */
    #txt2img_interrupt,
    #txt2img_interrupting,
    #img2img_interrupt,
    #img2img_interrupting,
    #extras_interrupt,
    #extras_interrupting,
    #txt2img_skip,
    #img2img_skip,
    #extras_skip {
        position: fixed !important;
        bottom: 12px;
        width: 45% !important;
        height: 48px !important;
        margin: 0 !important;
        padding: 0.8em;
        font-size: 1.1em;
        z-index: 1001;
    }

    /* Position Skip button on the left side */
    #txt2img_skip,
    #img2img_skip,
    #extras_skip {
        left: 5%;
        transform: none !important;
        border-radius: 12px 0 0 12px !important;
        background-color: var(--button-secondary-background-fill);
    }

    /* Position Interrupt button on the right side */
    #txt2img_interrupt,
    #txt2img_interrupting,
    #img2img_interrupt,
    #img2img_interrupting,
    #extras_interrupt,
    #extras_interrupting {
        left: 50%;
        transform: none !important;
        border-radius: 0 12px 12px 0 !important;
        background-color: var(--button-secondary-background-fill);
    }

    /* Height fix for consistent button height */
    #txt2img_interrupt,
    #txt2img_interrupting,
    #txt2img_skip,
    #img2img_interrupt,
    #img2img_interrupting,
    #img2img_skip,
    #extras_generate,
    #extras_interrupt,
    #extras_interrupting,
    #extras_skip {
        height: 72px !important;
    }


    /* === Results area fixes === */

    /* Allow results area to scroll normally without fixed positioning */
    #txt2img_results,
    #img2img_results,
    #extras_results {
        margin-top: 0 !important;
        position: relative !important;
        overflow: visible !important;
        z-index: auto !important;
    }

    /* Ensure buttons under generated images are not affected by sticky positioning */
    #txt2img_results .gr-button,
    #img2img_results .gr-button,
    #extras_results .gr-button {
        position: static !important;
    }

    /* Add bottom padding to prevent fixed buttons from covering content */
    #tab_txt2img,
    #tab_img2img,
    #tab_extras {
        padding-bottom: 100px !important;
    }

}
